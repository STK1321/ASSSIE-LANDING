---
const variants = {
  primary: "bg-accent text-white hover:bg-accentDark shadow-soft",
  ghost: "bg-white text-ink border border-slate/20 hover:border-accent",
  dark: "bg-ink text-white hover:bg-slate"
} as const;
const sizes = {
  sm: "px-4 py-2 text-sm",
  md: "px-6 py-3 text-sm",
  lg: "px-8 py-4 text-base"
} as const;

type Variant = keyof typeof variants;
type Size = keyof typeof sizes;

const {
  as = "a",
  href = "#",
  variant = "primary",
  size = "md",
  class: className = "",
  ...rest
} = Astro.props as {
  as?: "a" | "button";
  href?: string;
  variant?: Variant;
  size?: Size;
  class?: string;
  [key: string]: unknown;
};

const base =
  "inline-flex items-center justify-center gap-2 rounded-full font-semibold transition focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-accent focus-visible:ring-offset-2 focus-visible:ring-offset-white";
const classes = `${base} ${variants[variant] ?? variants.primary} ${sizes[size] ?? sizes.md} ${className}`;
const Tag = as;
---
<Tag href={Tag === "a" ? href : undefined} class={classes} {...rest}>
  <slot />
</Tag>
