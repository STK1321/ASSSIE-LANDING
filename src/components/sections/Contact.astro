---
import Button from "@/components/atoms/Button.astro";
import Icon from "@/components/atoms/Icon.astro";
import SectionHeading from "@/components/molecules/SectionHeading.astro";
import { site } from "@/content/site";

const whatsappLink = `https://wa.me/${site.whatsapp.replace(/\D/g, "")}`;
---
<section id="contacto" class="py-20">
  <div class="mx-auto max-w-6xl px-6">
    <div class="grid gap-10 lg:grid-cols-[1.2fr_1fr]">
      <div class="space-y-6 reveal">
        <SectionHeading
          eyebrow="Contacto"
          title="Hablemos de tu objetivo"
          subtitle="Cuéntanos tu reto principal y te respondemos con un plan claro y accionable."
        />
        <div class="rounded-3xl border border-slate/10 bg-white p-6 shadow-card">
          <form id="lead-form" class="space-y-4" method="post" action="/api/lead">
            <div>
              <label class="text-sm font-semibold text-ink" for="name">Nombre</label>
              <input class="mt-2 w-full rounded-xl border border-slate/20 bg-white px-4 py-3 text-sm" id="name" name="name" type="text" required />
            </div>
            <div>
              <label class="text-sm font-semibold text-ink" for="email">Email</label>
              <input class="mt-2 w-full rounded-xl border border-slate/20 bg-white px-4 py-3 text-sm" id="email" name="email" type="email" required />
            </div>
            <div>
              <label class="text-sm font-semibold text-ink" for="company">Empresa</label>
              <input class="mt-2 w-full rounded-xl border border-slate/20 bg-white px-4 py-3 text-sm" id="company" name="company" type="text" required />
            </div>
            <div>
              <label class="text-sm font-semibold text-ink" for="goal">Objetivo principal</label>
              <textarea class="mt-2 w-full rounded-xl border border-slate/20 bg-white px-4 py-3 text-sm" id="goal" name="goal" rows="3" required></textarea>
            </div>
            <div class="flex flex-wrap gap-3 pt-2">
              <Button as="button" type="submit" variant="primary">Enviar solicitud</Button>
              <Button variant="ghost" href={whatsappLink} target="_blank" rel="noopener">
                <Icon name="whatsapp" class="h-4 w-4" />
                Escríbenos por WhatsApp
              </Button>
            </div>
            <p class="text-xs text-slate">
              Respondemos en 24-48 horas hábiles con próximos pasos.
            </p>
          </form>
        </div>
      </div>
      <div class="space-y-4 reveal" style="--reveal-delay: 120ms;">
        <div class="rounded-3xl border border-slate/10 bg-white p-6 shadow-card">
          <h3 class="text-lg font-semibold text-ink">Contacto directo</h3>
          <p class="mt-2 text-sm text-slate">Email: {site.email}</p>
          <p class="mt-1 text-sm text-slate">WhatsApp: {site.whatsapp}</p>
          <p class="mt-1 text-sm text-slate">Zona: {site.address}</p>
        </div>
        <div class="rounded-3xl border border-slate/10 bg-white p-6 shadow-card">
          <h3 class="text-lg font-semibold text-ink">Lo que incluye la llamada</h3>
          <ul class="mt-3 space-y-2 text-sm text-slate">
            <li class="flex gap-2">
              <Icon name="check" class="h-4 w-4 text-accent" />
              <span>Revisión de objetivos y procesos actuales.</span>
            </li>
            <li class="flex gap-2">
              <Icon name="check" class="h-4 w-4 text-accent" />
              <span>Propuesta inicial de automatización y data.</span>
            </li>
            <li class="flex gap-2">
              <Icon name="check" class="h-4 w-4 text-accent" />
              <span>Estimación de tiempos y próximos pasos.</span>
            </li>
          </ul>
        </div>
      </div>
    </div>
  </div>
</section>

